<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å¿ƒç¯ãƒ–ãƒƒã‚¯ã‚¹ï½œæœˆã®ä¿®ç†å±‹ â€“ çµµæœ¬ãƒ“ãƒ¥ãƒ¼ã‚¢</title>
<style>
:root{--bg:#0e1a2b;--ink:#f4f2ec;--gold:#ffd780;--muted:#5c7263;--card:#111a2c}
html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif}
.app{display:grid;grid-template-rows:auto 1fr auto;min-height:100dvh}
header,footer{padding:10px 16px;background:linear-gradient(180deg,rgba(255,215,128,.05),transparent)}
header h1{font-size:16px;margin:0;font-weight:600;letter-spacing:.04em}
.viewer{display:grid;grid-template-columns:1.2fr .8fr;gap:16px;padding:16px;max-width:1100px;margin:0 auto}
.art,.text{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:14px;overflow:hidden}
.art figure{margin:0;height:100%;display:grid;place-items:center;background:radial-gradient(1200px 600px at 50% -200px, rgba(255,215,128,.08), transparent 50%)}
.art img{max-width:100%;max-height:70vh;object-fit:contain;display:block}
.text{display:flex;flex-direction:column}
.meta{display:flex;align-items:center;gap:8px;border-bottom:1px solid rgba(255,255,255,.06);padding:12px 14px;background:linear-gradient(180deg,rgba(255,215,128,.05),transparent)}
.pill{font-size:12px;padding:4px 10px;border:1px solid rgba(255,255,255,.2);border-radius:999px}
.pageNo{margin-left:auto;opacity:.8}
.content{padding:16px 18px 20px;line-height:1.9;font-size:18px;letter-spacing:.02em}
.nav{display:flex;gap:12px;justify-content:center;padding:10px 16px}
.nav button{appearance:none;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:var(--ink);padding:10px 14px;border-radius:12px;cursor:pointer;font-size:16px}
.nav button:hover{background:rgba(255,255,255,.12)}
.progress{height:6px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin:6px 0 0}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--gold),#ffe7b3);transition:width .25s}
.thumbs{display:grid;grid-template-columns:repeat(auto-fill,minmax(56px,1fr));gap:8px;margin:8px 16px 16px}
.thumbs button{padding:0;border:none;background:transparent;cursor:pointer;border-radius:8px;overflow:hidden;border:1px solid rgba(255,255,255,.12)}
.thumbs img{width:100%;height:72px;object-fit:cover;display:block;filter:saturate(.9)}
.thumbs button[aria-current="true"]{outline:2px solid var(--gold)}
footer{font-size:12px;opacity:.8}
.row{display:flex;gap:12px;align-items:center}
@media (max-width:900px){.viewer{grid-template-columns:1fr}.art img{max-height:46vh}.content{font-size:17px}header h1{font-size:15px}}
</style>

<!-- ğŸŒ• ã“ã“ã§ nav.js ã‚’ç¢ºå®Ÿã«èª­ã¿è¾¼ã¿ -->
<script src="nav.js?v=5" defer></script>
</head>
<body>

<!-- ğŸŒ™ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¾Œã‹ã‚‰æç”» -->
<div id="kb-nav-wrap"></div>
<script>
(function waitForNav(){
  if (window.kokorobiNav) {
    document.getElementById('kb-nav-wrap').innerHTML = window.kokorobiNav('books');
  } else {
    setTimeout(waitForNav, 50);
  }
})();
</script>

<!-- ğŸŒŒ çµµæœ¬æœ¬ä½“ -->
<div class="app" role="application" aria-label="çµµæœ¬ãƒ“ãƒ¥ãƒ¼ã‚¢">
  <header>
    <div class="row">
      <h1>å¿ƒç¯ãƒ–ãƒƒã‚¯ã‚¹ï½œ<small>å…‰ã®ä¿®ç†å±‹ãŸã¡ Vol.1</small> æœˆã®ä¿®ç†å±‹</h1>
      <div style="margin-left:auto;opacity:.8">â† / â†’ ã‚­ãƒ¼ãƒ»ã‚¹ãƒ¯ã‚¤ãƒ—ã§ãƒšãƒ¼ã‚¸ç§»å‹•</div>
    </div>
    <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
  </header>

  <main class="viewer">
    <section class="art" aria-labelledby="imgLabel">
      <figure><img id="pageImg" alt="ãƒšãƒ¼ã‚¸ã‚¤ãƒ©ã‚¹ãƒˆ" loading="lazy" /></figure>
    </section>
    <section class="text" aria-labelledby="txtLabel">
      <div class="meta">
        <span id="imgLabel" class="pill">ã‚¤ãƒ©ã‚¹ãƒˆ</span>
        <span id="txtLabel" class="pill">ãƒ†ã‚­ã‚¹ãƒˆ</span>
        <span class="pageNo" id="counter">1 / 18</span>
      </div>
      <div class="content" id="pageText" aria-live="polite"></div>
      <div class="nav">
        <button id="prev" aria-label="å‰ã®ãƒšãƒ¼ã‚¸">â† å‰ã¸</button>
        <button id="next" aria-label="æ¬¡ã®ãƒšãƒ¼ã‚¸">æ¬¡ã¸ â†’</button>
      </div>
      <div class="thumbs" id="thumbs" aria-label="ãƒšãƒ¼ã‚¸ä¸€è¦§ã‚µãƒ ãƒã‚¤ãƒ«"></div>
    </section>
  </main>

  <footer>å¿ƒç¯ãƒ–ãƒƒã‚¯ã‚¹ï¼ˆKokorobi Booksï¼‰â€” ã€Œç†ã§å°ãã€å„ªã—ã•ã§åŒ…ã‚€ã€</footer>
</div>

<!-- ğŸŒ  ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
<script>
const PAGES=[
{ text:"å¤œãŒã€é™ã‹ã«æ³£ã„ã¦ã„ã¾ã—ãŸã€‚" },
{ text:"æœˆã®æ¶™ãŒã€æ£®ã«è½ã¡ã¦ã„ã¾ã™ã€‚" },
{ text:"å°‘å¹´ã‚¢ã‚µãƒ’ã¯ã€ãã‚Œã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚" },
{ text:"ã€Œæœˆã•ã‚“ã€ã©ã†ã—ã¦æ³£ã„ã¦ã‚‹ã®ï¼Ÿã€" },
{ text:"ã€Œå¿ƒãŒå†·ãŸããªã£ã¦ã€é¡ãŒå‡ã£ãŸã®ã€‚ã€" },
{ text:"ã‚¢ã‚µãƒ’ã¯è€ƒãˆã¾ã—ãŸã€‚" },
{ text:"ã€Œã¼ãã®ç¬‘é¡”ã§ç›´ã—ã¦ã¿ã‚‹ã€‚ã€" },
{ text:"å…‰ã®ç²’ãŒã€æ‰‹ã®ã²ã‚‰ã§æºã‚Œã¾ã—ãŸã€‚" },
{ text:"æœˆãŒå°‘ã—ã€æ˜ã‚‹ããªã‚Šã¾ã—ãŸã€‚" },
{ text:"ã€Œã‚ãŸãŸã‹ã„ã­ã€ã¨æœˆãŒè¨€ã„ã¾ã—ãŸã€‚" },
{ text:"æœˆã¯ã¾ã‚“ã¾ã‚‹ã«æˆ»ã‚Šã¾ã—ãŸã€‚" },
{ text:"ã‚¢ã‚µãƒ’ã¯ãã£ã¨ç›®ã‚’é–‰ã˜ã¾ã—ãŸã€‚" },
{ text:"å¤œãŒã‚„ã•ã—ãæ¯ã‚’ã—ã¾ã—ãŸã€‚" },
{ text:"ã€Œå…‰ã‚’ç›´ã™ä¿®ç†å±‹ãŒç”Ÿã¾ã‚ŒãŸã€‚ã€" },
{ text:"ã‚ã¨ãŒãï¼šå£Šã‚ŒãŸã‚‚ã®ã‚’ç›´ã™ã®ã¯ã€é“å…·ã§ã¯ãªãã€å¿ƒã®æ¸©åº¦ã€‚" },
{ text:"å¿ƒç¯ã®è¨€è‘‰ï¼šã‚„ã•ã—ã•ã¯ã€ä¼ã‚ã‚‹ã¨å…‰ã«ãªã‚‹ã€‚" },
{ text:"å¥¥ä»˜ï¼šå¿ƒç¯ãƒ–ãƒƒã‚¯ã‚¹ï¼ˆKokorobi Booksï¼‰" },
{ text:"è¡¨ç´™è£ï¼šã“ã®æœ¬ã‚’é–‹ã„ãŸã‚ãªãŸã¸ã€ã‚ã‚ŠãŒã¨ã†ã€‚" }
];
const imgPath=i=>`images/page${String(i+1).padStart(2,'0')}.jpg`;
let current=0;
const img=document.getElementById('pageImg');
const txt=document.getElementById('pageText');
const counter=document.getElementById('counter');
const bar=document.getElementById('bar');
const thumbs=document.getElementById('thumbs');
function render(i){
  current=Math.max(0,Math.min(PAGES.length-1,i));
  img.src=imgPath(current);
  img.alt=`ãƒšãƒ¼ã‚¸${current+1}ã®ã‚¤ãƒ©ã‚¹ãƒˆ`;
  txt.innerHTML=`<p>${PAGES[current].text}</p>`;
  counter.textContent=`${current+1} / ${PAGES.length}`;
  bar.style.width=`${((current+1)/PAGES.length)*100}%`;
  Array.from(thumbs.children).forEach((b,idx)=>b.setAttribute('aria-current', idx===current ? 'true' : 'false'));
  const pre=new Image(); pre.src=imgPath(Math.min(PAGES.length-1,current+1));
}
function go(n){render(current+n)}
document.getElementById('prev').addEventListener('click',()=>go(-1));
document.getElementById('next').addEventListener('click',()=>go(1));
window.addEventListener('keydown',e=>{if(e.key==='ArrowRight')go(1);if(e.key==='ArrowLeft')go(-1);});
let sx=0,sy=0;
window.addEventListener('touchstart',e=>{sx=e.touches[0].clientX;sy=e.touches[0].clientY;},{passive:true});
window.addEventListener('touchend',e=>{const dx=e.changedTouches[0].clientX-sx;const dy=e.changedTouches[0].clientY-sy;if(Math.abs(dx)>40&&Math.abs(dx)>Math.abs(dy))go(dx<0?1:-1);},{passive:true});
function buildThumbs(){PAGES.forEach((_,i)=>{const b=document.createElement('button');b.title=`ãƒšãƒ¼ã‚¸${i+1}`;const t=document.createElement('img');t.loading='lazy';t.src=imgPath(i);t.alt=`ãƒšãƒ¼ã‚¸${i+1}ã®ã‚µãƒ ãƒã‚¤ãƒ«`;b.appendChild(t);b.addEventListener('click',()=>render(i));thumbs.appendChild(b);});}
buildThumbs();render(0);
</script>
</body>
</html>
